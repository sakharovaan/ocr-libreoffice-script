"""
Convert old (before Russian language reform) spelling to new
"""

import re
from functools import partial

rules = [
    # based on 'oldrus' rules replace set by charoplet (ver. 1.01)
    (r'\bвсе\b', 'всё'),
    (r'\bвсемъ\b', 'всёмъ'),
    (r'\bея\b', 'её'),
    (r'\bчемъ\b', 'чём'),
    (r'\bнемъ\b', 'нём'),
    (r'\sіод', ' йод'),
    (r'\sІод', ' йод'),
    (r'\sмаіор', ' майор'),
    (r'\sкомпаніон', ' компаньон'),
    (r'\sраіон', ' район'),
    (r'\sпіеса', ' пьеса'),
    (r'\sіота', ' йота'),
    (r'\sІота', ' йота'),
    (r'Ѣ', 'Е'),
    (r'ѣ', 'е'),
    (r'Ѳ', 'Ф'),
    (r'ѳ', 'ф'),
    (r'Ѵ', 'И'),
    (r'ѵ', 'и'),
    (r'(\w+)ъ\b', '{}'),
    (r'([^a-zA-Z\{\}])I([^a-zA-Z\{\}])', '{}И{}'),
    (r'([^a-zA-Z\{\}])i([^a-zA-Z\{\}])', '{}и{}'),
    (r'([^a-zA-Z\{\}])І([^a-zA-Z\{\}])', '{}И{}'),
    (r'([^a-zA-Z\{\}])і([^a-zA-Z\{\}])', '{}и{}'),
    (r'тиранни', 'тирани'),
    (r'(\w+)авния\b', '{}авние'),
    (r'(\w+)айния\b', '{}айние'),
    (r'(\w+)дния\b', '{}дние'),
    (r'(\w+)евния\b', '{}евние'),
    (r'(\w+)жния\b', '{}жние'),
    (r'(\w+)льния\b', '{}льние'),
    (r'(\w+)нния\b', '{}нние'),
    (r'(\w+)рния\b', '{}рние'),
    (r'(\w+)хния\b', '{}хние'),
    (r'(\w+)шния\b', '{}шние'),
    (r'(\w+)бкия\b', '{}бкие'),
    (r'(\w+)бокия\b', '{}бокие'),
    (r'(\w+)вкия\b', '{}вкие'),
    (r'(\w+)гкия\b', '{}гкие'),
    (r'(\w+)зкия\b', '{}зкие'),
    (r'(\w+)онкия\b', '{}онкие'),
    (r'(\w+)ския\b', '{}ские'),
    (r'(\w+)сокия\b', '{}сокие'),
    (r'(\w+)стокия\b', '{}стокие'),
    (r'(\w+)ькия\b', '{}ькие'),
    (r'(\w+)богия\b', '{}богие'),
    (r'(\w+)вчия\b', '{}вчие'),
    (r'(\w+)ежия\b', '{}ежие'),
    (r'(\w+)лагия\b', '{}лагие'),
    (r'(\w+)ожия\b', '{}ожие'),
    (r'(\w+)ужия\b', '{}ужие'),
    (r'(\w+)ухия\b', '{}ухие'),
    (r'(\w+)шия\b', '{}шие'),
    (r'(\w+)щия\b', '{}щие'),
    (r'(\w+)бесчести\b', '{}бесчесть'),
    (r'(\w+)чести\b', '{}честь'),
    (r'(\w+)слабости\b', '{}слабость'),
    (r'(\w+)легкости\b', '{}легкость'),
    (r'(\w+)лёгкости\b', '{}лёгкость'),
    (r'(\w+)предмести\b', '{}предместь'),
    (r'(\w+)ыя\b', '{}ые'),
    (r'(\w+)скаго\b', '{}ского'),
    (r'(\w+)ияся\b', '{}иеся'),
    (r'(\w+)яго\b', '{}его'),
    (r'(\w+)жаго\b', '{}жего'),
    (r'(\w+)чаго\b', '{}чего'),
    (r'(\w+)цаго\b', '{}цего'),
    (r'(\w+)шаго\b', '{}шего'),
    (r'(\w+)щаго\b', '{}щего'),
    (r'(\w+)чагося\b', '{}чегося'),
    (r'(\w+)шагося\b', '{}шегося'),
    (r'(\w+)щагося\b', '{}щегося'),
    (r'(\w+)баго\b', '{}бого'),
    (r'(\w+)ваго\b', '{}вого'),
    (r'(\w+)гаго\b', '{}гого'),
    (r'(\w+)даго\b', '{}дого'),
    (r'(\w+)заго\b', '{}зого'),
    (r'(\w+)каго\b', '{}кого'),
    (r'(\w+)лаго\b', '{}лого'),
    (r'(\w+)маго\b', '{}мого'),
    (r'(\w+)наго\b', '{}ного'),
    (r'(\w+)паго\b', '{}пого'),
    (r'(\w+)раго\b', '{}рого'),
    (r'(\w+)саго\b', '{}сого'),
    (r'(\w+)таго\b', '{}того'),
    (r'(\w+)хаго\b', '{}хого'),
    (r'(\w+)ностию\b', '{}ностью'),
    (r'(\w+)достию\b', '{}достью'),
    (r'(\w+)тостию\b', '{}тостью'),
    (r'(\w+)астию\b', '{}астью'),
    (r'(\w+)ртию\b', '{}ртью'),
    (r'(\w+)партью\b', '{}партию'),
    (r'(\w+)хартью\b', '{}хартию'),
    (r'(\w+)лкия\b', '{}лкие'),
    (r'(\w+)ликия\b', '{}ликие'),
    (r'(\w+)пкия\b', '{}пкие'),
    (r'(\w+)пикия\b', '{}пикие'),
    (r'(\w+)дкия\b', '{}дкие'),
    (r'(\w+)дикия\b', '{}дикие'),
    (r'(\w+)ткия\b', '{}ткие'),
    (r'(\w+)тикия\b', '{}тикие'),
    (r'(\w+)льныя\b', '{}льные'),
    (r'(\w+)дячия\b', '{}дячие'),
    (r'(\w+)рячия\b', '{}рячие'),
    (r'(\w+)ньи\b', '{}нии'),
    (r'(\w+)олении\b', '{}оленьи'),
    (r'(\w+)бранию\b', '{}бранью'),
    (r'(\w+)гранию\b', '{}гранью'),
    (r'(\w+)геранию\b', '{}геранью'),
    (r'(\w+)филигранию\b', '{}филигранью'),
    (r'\bразстя(\w+)', 'растя{}'),
    (r'\bразп(\w+)', 'расп{}'),
    (r'\bразт(\w+)', 'раст{}'),
    (r'\bразк(\w+)', 'раск{}'),
    (r'\bразф(\w+)', 'расф{}'),
    (r'\bразс(\w+)', 'расс{}'),
    (r'\bразх(\w+)', 'расх{}'),
    (r'\bразц(\w+)', 'расц{}'),
    (r'\bразч(\w+)', 'расч{}'),
    (r'\bбезп(\w+)', 'бесп{}'),
    (r'\bбезт(\w+)', 'бест{}'),
    (r'\bбезк(\w+)', 'беск{}'),
    (r'\bбезф(\w+)', 'бесф{}'),
    (r'\bбезс(\w+)', 'бесс{}'),
    (r'\bбезх(\w+)', 'бесх{}'),
    (r'\bбезц(\w+)', 'бесц{}'),
    (r'\bбезч(\w+)', 'бесч{}'),
    (r'\bнебезп(\w+)', 'небесп{}'),
    (r'\bнебезт(\w+)', 'небест{}'),
    (r'\bнебезк(\w+)', 'небеск{}'),
    (r'\bнебезф(\w+)', 'небесф{}'),
    (r'\bнебезс(\w+)', 'небесс{}'),
    (r'\bнебезх(\w+)', 'небесх{}'),
    (r'\bнебезц(\w+)', 'небесц{}'),
    (r'\bнебезч(\w+)', 'небесч{}'),
    (r'\bнебезш(\w+)', 'небесш{}'),
    (r'\bоразп(\w+)', 'орасп{}'),
    (r'\bоразт(\w+)', 'ораст{}'),
    (r'\bоразк(\w+)', 'ораск{}'),
    (r'\bоразф(\w+)', 'орасф{}'),
    (r'\bоразс(\w+)', 'орасс{}'),
    (r'\bоразх(\w+)', 'орасх{}'),
    (r'\bоразц(\w+)', 'орасц{}'),
    (r'\bоразч(\w+)', 'орасч{}'),
    (r'\bоразш(\w+)', 'орасш{}'),
    (r'\bобезп(\w+)', 'обесп{}'),
    (r'\bобезт(\w+)', 'обест{}'),
    (r'\bобезк(\w+)', 'обеск{}'),
    (r'\bобезф(\w+)', 'обесф{}'),
    (r'\bобезс(\w+)', 'обесс{}'),
    (r'\bобезх(\w+)', 'обесх{}'),
    (r'\bобезц(\w+)', 'обесц{}'),
    (r'\bобезч(\w+)', 'обесч{}'),
    (r'\bобезш(\w+)', 'обесш{}'),
    (r'\bпобезп(\w+)', 'побесп{}'),
    (r'\bпобезт(\w+)', 'побест{}'),
    (r'\bпобезк(\w+)', 'побеск{}'),
    (r'\bпобезф(\w+)', 'побесф{}'),
    (r'\bпобезс(\w+)', 'побесс{}'),
    (r'\bпобезх(\w+)', 'побесх{}'),
    (r'\bпобезц(\w+)', 'побесц{}'),
    (r'\bпобезч(\w+)', 'побесч{}'),
    (r'\bпобезш(\w+)', 'побесш{}'),
    (r'\bзабезп(\w+)', 'забесп{}'),
    (r'\bзабезт(\w+)', 'забест{}'),
    (r'\bзабезк(\w+)', 'забеск{}'),
    (r'\bзабезф(\w+)', 'забесф{}'),
    (r'\bзабезс(\w+)', 'забесс{}'),
    (r'\bзабезх(\w+)', 'забесх{}'),
    (r'\bзабезц(\w+)', 'забесц{}'),
    (r'\bзабезч(\w+)', 'забесч{}'),
    (r'\bзабезш(\w+)', 'забесш{}'),
    (r'\bвозп(\w+)', 'восп{}'),
    (r'\bвозт(\w+)', 'вост{}'),
    (r'\bвозк(\w+)', 'воск{}'),
    (r'\bвозф(\w+)', 'восф{}'),
    (r'\bвозс(\w+)', 'восс{}'),
    (r'\bвозх(\w+)', 'восх{}'),
    (r'\bвозц(\w+)', 'восц{}'),
    (r'\bвозч(\w+)', 'восч{}'),
    (r'\bвозш(\w+)', 'восш{}'),
    (r'\bизп(\w+)', 'исп{}'),
    (r'\bизт(\w+)', 'ист{}'),
    (r'\bизк(\w+)', 'иск{}'),
    (r'\bизф(\w+)', 'исф{}'),
    (r'\bизс(\w+)', 'исс{}'),
    (r'\bизх(\w+)', 'исх{}'),
    (r'\bизц(\w+)', 'исц{}'),
    (r'\bизч(\w+)', 'исч{}'),
    (r'\bизш(\w+)', 'исш{}'),
    (r'\bпредразп(\w+)', 'предрасп{}'),
    (r'\bпредразт(\w+)', 'предраст{}'),
    (r'\bпредразк(\w+)', 'предраск{}'),
    (r'\bпредразф(\w+)', 'предрасф{}'),
    (r'\bпредразс(\w+)', 'предрасс{}'),
    (r'\bпредразх(\w+)', 'предрасх{}'),
    (r'\bпредразц(\w+)', 'предрасц{}'),
    (r'\bпредразч(\w+)', 'предрасч{}'),
    (r'\bпредразш(\w+)', 'предрасш{}'),
    (r'\bбезш(\w+)', 'бесш{}'),
    (r'\bбези(\w+)', 'безы{}'),
    (r'\bсъа(\w+)', 'са{}'),
    (r'\bсъо(\w+)', 'со{}'),
    (r'\bсъу(\w+)', 'су{}'),
    (r'\bсъы(\w+)', 'сы{}'),
    (r'\bсъэ(\w+)', 'сэ{}'),
    (r'\bво-время', 'вовремя'),
    (r'\bкрест-на-крест', 'крест-накрест'),
    (r'\bперво-на-перво', 'перво-наперво'),
    (r'\bпросто-на-просто', 'просто-напросто'),
    (r'\bвсего-на-всего', 'всего-навсего'),
    (r'\bтяжело-', 'тяжело'),
    (r'\bо-земь', 'оземь'),
    (r'\bяко-бы', 'якобы'),
    (r'\bповидимому', 'по-видимому'),
    (r'\bпопрежнему', 'по-прежнему'),
    (r'\bсветлосер', 'светло-сер'),
    (r'\bсветлосин', 'светло-син'),
    (r'\bсветлокрасн', 'светло-красн'),
    (r'\bсветложелт', 'светло-желт'),
    (r'\bсветложёлт', 'светло-жёлт'),
    (r'\bсветлозелен', 'светло-зелен'),
    (r'\bсветлозелён', 'светло-зелён'),
    (r'\bсветлооранжев', 'светло-оранжев'),
    (r'\bсветлоголуб', 'светло-голуб'),
    (r'\bсветлобордов', 'светло-бордов'),
    (r'\bсветлорозов', 'светло-розов'),
    (r'\bсветлокоричнев', 'светло-коричнев'),
    (r'\bсветлофиолетов', 'светло-фиолетов'),
    (r'\bтемносер', 'темно-сер'),
    (r'\bтемносин', 'темно-син'),
    (r'\bтемнокрасн', 'темно-красн'),
    (r'\bтемножелт', 'темно-желт'),
    (r'\bтемножёлт', 'темно-жёлт'),
    (r'\bтемнозелен', 'темно-зелен'),
    (r'\bтемнозелён', 'темно-зелён'),
    (r'\bтемнооранжев', 'темно-оранжев'),
    (r'\bтемноголуб', 'темно-голуб'),
    (r'\bтемнобордов', 'темно-бордов'),
    (r'\bтемнорозов', 'темно-розов'),
    (r'\bтемнокоричнев', 'темно-коричнев'),
    (r'\bтемнофиолетов', 'темно-фиолетов'),
    (r'\bтёмносер', 'тёмно-сер'),
    (r'\bтёмносин', 'тёмно-син'),
    (r'\bтёмнокрасн', 'тёмно-красн'),
    (r'\bтёмножелт', 'тёмно-желт'),
    (r'\bтёмножёлт', 'тёмно-жёлт'),
    (r'\bтёмнозелен', 'тёмно-зелен'),
    (r'\bтёмнозелён', 'тёмно-зелён'),
    (r'\bтёмнооранжев', 'тёмно-оранжев'),
    (r'\bтёмноголуб', 'тёмно-голуб'),
    (r'\bтёмнобордов', 'тёмно-бордов'),
    (r'\bтёмнорозов', 'тёмно-розов'),
    (r'\bтёмнокоричнев', 'тёмно-коричнев'),
    (r'\bтёмнофиолетов', 'тёмно-фиолетов'),
    (r'\bцырюльн', 'цирюльн'),
    (r'\bаттак', 'атак'),
    (r'\bпарчев', 'парчов'),
    (r'\bпарчёв', 'парчов'),
    (r'\bоднакоже', 'однако же'),
    (r'\bоднакож', 'однако ж'),
    (r'\bразсуждение', 'рассуждение'),
    (r'\bсчасти', 'счасть'),
    (r'\bстрасти', 'страсть'),
    (r'\bнесчасти', 'несчасть'),
    (r'\bбесстрасти', 'бесстрасть'),
    (r'\bпристрастьи', 'пристрастье'),
    (r'\bконтрбас', 'контрабас'),
    (r'\bв\s+\bдогонку', 'вдогонку'),
    (r'\bв\s+\bдребезги', 'вдребезги'),
    (r'\bв\s+\bприпрыжку', 'вприпрыжку'),
    (r'\bна\s+\bперерез', 'наперерез'),
    (r'\bна\s+\bповал', 'наповал'),
    (r'\bна\s+\bпропалую', 'напропалую'),
    (r'\bне\s+\bв\s+\bмоготу', 'невмоготу'),
    (r'\bпо\s+\bскольку', 'поскольку'),
    (r'\bпод\s+\bряд', 'подряд'),
    (r'\bчерез\s+\bчур', 'чересчур'),
    (r'\bна\s+\bутёк', 'наутёк'),
    (r'\bна\s+\bутек', 'наутек'),
    (r'\bмало\s+\bпо\s+\bмалу', 'мало-помалу'),
    (r'\bмало-по\s+\bмалу', 'мало-помалу'),
    (r'\bмало\s+\bпо-малу', 'мало-помалу'),
    (r'\bпо\s+\bрусски', 'по-русски'),
    (r'\bпо\s+\bанглийски', 'по-английски'),
    (r'\bпо\s+\bнемецки', 'по-немецки'),
    (r'\bпо\s+\bфранцузски', 'по-французски'),
    (r'\bпо\s+\bитальянски', 'по-итальянски'),
    (r'\bпо\s+\bиспански', 'по-испански'),
    (r'\bпо\s+\bголландски', 'по-голландски'),
    (r'\bпо\s+\bдатски', 'по-датски'),
    (r'\bпо\s+\bпортугальски', 'по-португальски'),
    (r'\bпо\s+\bгречески', 'по-гречески'),
    (r'\bпо\s+\bлатыни', 'по-латыни'),
    (r'\bпо\s+\bкитайски', 'по-китайски'),
    (r'\bпо\s+\bтурецки', 'по-турецки'),
    (r'\bпо\s+\bпольски', 'по-польски'),
    (r'\bпо\s+\bвенгерски', 'по-венгерски'),
    (r'\bпо\s+\bяпонски', 'по-японски'),
    (r'\bвсетаки', 'всё-таки'),
    (r'\bоднакожь', 'однако ж'),
    (r'\bоднакожъ', 'однако ж'),
    (r'\bпоочереди', 'по очереди'),
    (r'\bчтож', 'что ж'),
    (r'\bвтечение', 'в течение'),
    (r'\bбез-устали', 'без устали'),
    (r'\bбыть-может', 'быть может'),
    (r'\bв\s+\bто-же\s+\bвремя', 'в то же время'),
    (r'\bвряд-ли', 'вряд ли'),
    (r'\bдолжно-быть', 'должно быть'),
    (r'\bкак-будто', 'как будто'),
    (r'\bконце-концов', 'конце концов'),
    (r'\bможет-быть', 'может быть'),
    (r'\bна-днях', 'на днях'),
    (r'\bпотому-что', 'потому что'),
    (r'\bстало-быть', 'стало быть'),
    (r'\bтак-называемого', 'так называемого'),
    (r'\bтак-сказать', 'так сказать'),
    (r'\bто-есть', 'то есть'),
    (r'т\.-е\.', 'т.е.'),
    (r'т\.\s+е\.', 'т.е.'),
    (r'-бы\b', ' бы'),
    (r'-б\b', ' б'),
    (r'-же\b', ' же'),
    (r'счастьй\b', 'счастий'),
    (r'счастьи\b', 'счастие'),
    (r'\bрост\b', 'раст'),
    (r'\bросту\b', 'расту'),
    (r'\bростёшь\b', 'растёшь'),
    (r'\bростешь\b', 'растешь'),
    (r'\bростём\b', 'растём'),
    (r'\bростем\b', 'растем'),
    (r'\bростёте\b', 'растёте'),
    (r'\bростете\b', 'растете'),
    (r'\bрости\b', 'расти'),
    (r'\bростёт\b', 'растёт'),
    (r'\bростет\b', 'растет'),
    (r'\bростут\b', 'растут'),
    (r'\bнея\b', 'неё'),
    (r'\bитти\b', 'идти'),
    (r'\bпритти\b', 'придти'),
    (r'\bоднех\b', 'одних'),
    (r'\bоднеми\b', 'одними'),
    (r'\bлэди\b', 'леди'),
    (r'\bужь\b', 'уж'),
    (r'\bужъ\b', 'уж'),
    (r'\bмежь\b', 'меж'),
    (r'\bмежъ\b', 'меж'),
    (r'\bжь\b', 'ж'),
    (r'\bжъ\b', 'ж'),
    (r'\bоне\b', 'они'),
    (r'\bодне\b', 'одни'),
    (r'\bоднем\b', 'одним'),
    (r'\bкакия\b', 'какие'),
    (r'\bдругия\b', 'другие'),
    (r'\bмногия\b', 'многие'),
    (r'\bнемногия\b', 'немногие'),
    (r'\bтакия\b', 'такие'),
    (r'\bэтакия\b', 'этакие'),
    (r'\bвсякия\b', 'всякие'),
    (r'\bникакия\b', 'никакие'),
    (r'\bвошол\b', 'вошел'),
    (r'\bдошол\b', 'дошел'),
    (r'\bзашол\b', 'зашел'),
    (r'\bнашол\b', 'нашел'),
    (r'\bнашолся\b', 'нашелся'),
    (r'\bотошол\b', 'отошел'),
    (r'\bперешол\b', 'перешел'),
    (r'\bпошол\b', 'пошел'),
    (r'\bпришол\b', 'пришел'),
    (r'\bпрошол\b', 'прошел'),
    (r'\bпроизошол\b', 'произошел'),
    (r'\bушол\b', 'ушел'),
    (r'\bшол\b', 'шел'),
    (r'\bмущин\b', 'мужчин'),
    (r'\bусвоивал', 'усваивал'),
    (r'\bснурок', 'шнурок'),
    (r'\bснурк', 'шнурк'),
    (r'\bчорт', 'чёрт'),
    (r'\bвнутренно', 'внутренне'),
    (r'\bзапрег', 'запряг'),
    (r'\bв\s+полъ?голоса\b', 'вполголоса'),
    (r'\bАксинии\b', 'Аксиньи'),
    (r'\bбарании\b', 'бараньи'),
    (r'\bбегунии\b', 'бегуньи'),
    (r'\bбодунии\b', 'бодуньи'),
    (r'\bболонии\b', 'болоньи'),
    (r'\bболтунии\b', 'болтуньи'),
    (r'\bботвинии\b', 'ботвиньи'),
    (r'\bбрезгунии\b', 'брезгуньи'),
    (r'\bбрехунии\b', 'брехуньи'),
    (r'\bбрыкунии\b', 'брыкуньи'),
    (r'\bведунии\b', 'ведуньи'),
    (r'\bвертунии\b', 'вертуньи'),
    (r'\bвещунии\b', 'вещуньи'),
    (r'\bвизгунии\b', 'визгуньи'),
    (r'\bвикунии\b', 'викуньи'),
    (r'\bворкотунии\b', 'воркотуньи'),
    (r'\bворчунии\b', 'ворчуньи'),
    (r'\bврунии\b', 'вруньи'),
    (r'\bглазунии\b', 'глазуньи'),
    (r'\bговорунии\b', 'говоруньи'),
    (r'\bгорбунии\b', 'горбуньи'),
    (r'\bдонии\b', 'доньи'),
    (r'\bдрачунии\b', 'драчуньи'),
    (r'\bдуэнии\b', 'дуэньи'),
    (r'\bектении\b', 'ектеньи'),
    (r'\bЕфросинии\b', 'Ефросиньи'),
    (r'\bигрунии\b', 'игруньи'),
    (r'\bигумении\b', 'игуменьи'),
    (r'\bкапризунии\b', 'капризуньи'),
    (r'\bколдунии\b', 'колдуньи'),
    (r'\bкопотунии\b', 'копотуньи'),
    (r'\bкопунии\b', 'копуньи'),
    (r'\bкорении\b', 'кореньи'),
    (r'\bкрикунии\b', 'крикуньи'),
    (r'\bкропотунии\b', 'кропотуньи'),
    (r'\bкряхтунии\b', 'кряхтуньи'),
    (r'\bлгунии\b', 'лгуньи'),
    (r'\bлепетунии\b', 'лепетуньи'),
    (r'\bлетунии\b', 'летуньи'),
    (r'\bлизунии\b', 'лизуньи'),
    (r'\bлопотунии\b', 'лопотуньи'),
    (r'\bмалании\b', 'маланьи'),
    (r'\bмелании\b', 'меланьи'),
    (r'\bмолчунии\b', 'молчуньи'),
    (r'\bморгунии\b', 'моргуньи'),
    (r'\bпачкунии\b', 'пачкуньи'),
    (r'\bпевунии\b', 'певуньи'),
    (r'\bперхунии\b', 'перхуньи'),
    (r'\bпестунии\b', 'пестуньи'),
    (r'\bпетунии\b', 'петуньи'),
    (r'\bпирании\b', 'пираньи'),
    (r'\bпискунии\b', 'пискуньи'),
    (r'\bплясунии\b', 'плясуньи'),
    (r'\bползунии\b', 'ползуньи'),
    (r'\bполынии\b', 'полыньи'),
    (r'\bпопрыгунии\b', 'попрыгуньи'),
    (r'\bпорхунии\b', 'порхуньи'),
    (r'\bпрыгунии\b', 'прыгуньи'),
    (r'\bревунии\b', 'ревуньи'),
    (r'\bрезвунии\b', 'резвуньи'),
    (r'\bсвинии\b', 'свиньи'),
    (r'\bсвистунии\b', 'свистуньи'),
    (r'\bсеклетинии\b', 'секлетиньи'),
    (r'\bскакунии\b', 'скакуньи'),
    (r'\bсопунии\b', 'сопуньи'),
    (r'\bспорынии\b', 'спорыньи'),
    (r'\bстрекотунии\b', 'стрекотуньи'),
    (r'\bтаскунии\b', 'таскуньи'),
    (r'\bустинии\b', 'устиньи'),
    (r'\bфевронии\b', 'февроньи'),
    (r'\bфетинии\b', 'фетиньи'),
    (r'\bфорсунии\b', 'форсуньи'),
    (r'\bфотинии\b', 'фотиньи'),
    (r'\bфыркунии\b', 'фыркуньи'),
    (r'\bхавронии\b', 'хавроньи'),
    (r'\bхапунии\b', 'хапуньи'),
    (r'\bхвастунии\b', 'хвастуньи'),
    (r'\bхитрунии\b', 'хитруньи'),
    (r'\bхлопотунии\b', 'хлопотуньи'),
    (r'\bхохотунии\b', 'хохотуньи'),
    (r'\bхрапунии\b', 'храпуньи'),
    (r'\bхрипунии\b', 'хрипуньи'),
    (r'\bщалунии\b', 'шалуньи'),
    (r'\bшатунии\b', 'шатуньи'),
    (r'\bшептунии\b', 'шептуньи'),
    (r'\bшипунии\b', 'шипуньи'),
    (r'\bшунии\b', 'шуньи'),
    (r'\bщебетунии\b', 'щебетуньи'),
    # sakharov additions
    (r'ою\b', 'ой'),
    (r'ею\b', 'ей'),
    (r'\bцерквах\b', 'церквях'),
]
rules_compiled = list((re.compile(elem[0]), elem[1]) for elem in rules)


def _replacer(match, rule_num):
    matches = []

    for i in range(1, 1000):
        try:
            matches.append(match.group(i))
        except IndexError:
            break

    return rules[rule_num][1].format(*matches)


def old_spell(text):
    for i, rule in enumerate(rules_compiled):
        text = re.sub(rule[0], partial(_replacer, rule_num=i), text)

    return text